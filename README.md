# argo2yaml

Render out all of the manifests defined under an argocd App of App pattern.

## Reason
As more and more applications depend on shared manifests, it becomes increasingly difficult to be certian that changes wont affect other applications negatively. 
This script aims to give visibility into what changes will take place when override files or charts are updated using ArgoCD's built in helm templating configuration.

## Use:
In the root of your project directory. Point argo2yaml at one of your top level CRD's that begins your AOA tree.
```Shell
$ argo2yaml -crd aoa/test-env.yaml
# upon running this command, the script will traverse the AOA tree and render out the resulting manifests.
# ex output:
INFO[0000] helm template . --name-template test-env --namespace argocd --set region=us-west-2 --values /Users/USER/Documents/repos/test-repo/overrides/aoa/usw2-nonprod.yaml --include-crds  dir=charts/aoa execID=3eb2b
INFO[0001] Trace                                         args="[helm template . --name-template test-env --namespace argocd --set region=us-west-2 --values /Users/USER/Documents/repos/test-repo/overrides/aoa/usw2-nonprod.yaml --include-crds]" dir=charts/aoa operation_name="exec helm" time_ms=1066.407917
```
This will render all the manifest to the projects ~/zz.autogenerated directory. These files can be included in git history to see the extent of your changes. They may also be used in conjunction with ArgoCD render paths, so you can controll application syncs better.

